<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NISFF | NEXGN International Short Film Festival</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22 font-weight=%22bold%22 fill=%22%23d4af37%22>N</text></svg>">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #d4af37; /* Gold */
            --bg: #050505;
            --card: #141414;
            --text: #e0e0e0;
            --border: #333;
            --success: #00e676;
            --error: #ff5252;
        }

        body { font-family: 'Segoe UI', system-ui, sans-serif; background-color: var(--bg); color: var(--text); margin: 0; overflow-x: hidden; }
        body.app-active { overflow: hidden; }

        .hidden { display: none !important; }
        
        /* LANDING PAGE UTILS */
        .text-gold { color: var(--primary); }
        .gold-gradient-text {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        
        /* --- FIXED NAVIGATION LINKS --- */
        .nav-link { 
            font-size: 13px; 
            font-weight: 700; 
            letter-spacing: 1px; 
            color: #ffffff !important; /* FORCED WHITE */
            transition: all 0.3s ease-in-out; 
            text-transform: uppercase;
            text-decoration: none;
        }
        .nav-link:hover { 
            color: #d4af37 !important; /* GOLD ON HOVER */
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.8); 
        }

        /* APP DASHBOARD STYLES */
        #app-main { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh; 
            background: var(--bg); z-index: 9999; overflow: hidden;
            display: flex; flex-direction: column;
        }
        
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .reel-icon { display: inline-block; font-size: 24px; margin-left: 10px; animation: spin 4s linear infinite; vertical-align: middle; }
        
        /* Dashboard Header */
        .app-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 1px solid var(--border); background: #000; }
        
        /* App UI Components */
        .app-body { max-width: 1200px; margin: 20px auto; width: 100%; padding: 0 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .nav-tabs { display: flex; gap: 5px; margin-bottom: 15px; flex-wrap: wrap; }
        .tab-btn { flex: 1; padding: 12px; background: #111; border: 1px solid #333; color: #888; border-radius: 6px; cursor: pointer; transition: 0.3s; min-width: 120px; }
        .tab-btn.active { background: var(--primary); color: #000; font-weight: bold; border-color: var(--primary); }
        
        .tab-content { display: none; flex-grow: 1; overflow-y: auto; padding-bottom: 50px; }
        .tab-content.active { display: block; }

        .input-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .full-width { grid-column: span 3; }
        .app-input { width: 100%; background: #222; border: 1px solid var(--border); color: #fff; padding: 10px; border-radius: 6px; box-sizing: border-box; }
        .app-label { display: block; font-size: 11px; color: var(--primary); margin-bottom: 5px; font-weight: bold; text-transform: uppercase; }

        .gen-btn { width: 100%; padding: 15px; background: var(--primary); color: #000; font-weight: bold; border: none; border-radius: 6px; cursor: pointer; margin-top: 10px; transition: 0.2s; }
        .gen-btn:hover { background: #fff; }

        .toolbar { display: flex; justify-content: flex-end; align-items: center; margin-top: 15px; gap: 10px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .sm-btn { background: #333; color: #fff; padding: 6px 12px; border-radius: 4px; border: 1px solid #555; font-size: 12px; cursor: pointer; }
        .del-btn { background: #b00020; border-color: #790000; color: white; padding: 6px 10px; border-radius: 4px; cursor: pointer; }
        .history-select { background: #111; color: #aaa; border: 1px solid #444; padding: 5px; border-radius: 4px; font-size: 12px; width: 250px; }
        
        .output-box { background: #000; border: 1px solid var(--border); padding: 25px; border-radius: 0 0 8px 8px; min-height: 300px; white-space: pre-wrap; font-family: 'Courier New', monospace; color: #ccc; font-size: 15px; line-height: 1.6; }
        .loader { display: none; text-align: center; color: var(--primary); margin-top: 15px; font-weight: bold; }

        /* Profile & Modals */
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--primary); cursor: pointer; }
        #profile-menu { position: absolute; top: 60px; right: 20px; background: #1a1a1a; border: 1px solid var(--primary); padding: 15px; display: none; z-index: 6000; width: 250px; border-radius: 8px; }
        #profile-menu button { display: block; width: 100%; text-align: left; padding: 10px; background: transparent; border: none; color: #fff; border-bottom: 1px solid #333; cursor: pointer; }
        .key-input { width: 100%; background: #000; border: 1px solid #444; padding: 8px; color: var(--success); margin-bottom: 10px; border-radius: 4px; }

        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; display: none; align-items: center; justify-content: center; }
        .modal-box { background: #1a1a1a; padding: 30px; border-radius: 10px; width: 350px; text-align: center; border: 1px solid var(--primary); }

        /* Blinking Indicator */
        @keyframes blink { 50% { opacity: 0.3; } }
        .has-data::after { content: ''; position: absolute; top: 8px; left: 8px; width: 10px; height: 10px; background-color: var(--success); border-radius: 50%; animation: blink 1.2s infinite; box-shadow: 0 0 5px var(--success); }
    </style>
</head>
<body class="bg-black text-gray-100 antialiased">

<div id="landing-page" class="w-full">
    
    <nav class="bg-black border-b border-[#d4af37]/50 fixed top-0 w-full z-[9999] shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between h-auto md:h-20 items-center py-4 md:py-0">
                
                <div class="text-3xl font-extrabold tracking-widest text-[#d4af37] cursor-pointer mb-4 md:mb-0">NISFF</div>
                
                <div class="flex flex-wrap justify-center md:justify-end gap-6 items-center">
                    <a href="https://nisff.co.in" class="nav-link">HOME</a>
                    <a href="https://nisff.co.in/gala.html" class="nav-link">GALA</a>
                    <a href="https://nisff.co.in/awards.html" class="nav-link">AWARDS</a>
                    <a href="https://nisff.co.in/gallery.html" class="nav-link">GALLERY</a>
                    <a href="https://nisff.co.in/testimonials.html" class="nav-link">TESTIMONIALS</a>
                    <a href="https://nisff.co.in/winners.html" class="nav-link">WINNERS</a>
                    <a href="https://nisff.co.in/rules.html" class="nav-link">RULES</a>
                    
                    <a href="https://nisff.co.in/submit.html" style="color:black !important;" class="bg-[#d4af37] px-5 py-2 rounded-full font-bold text-xs tracking-widest hover:bg-white transition shadow-[0_0_15px_rgba(212,175,55,0.5)] text-black">
                        SUBMIT
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="relative bg-[url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center min-h-[100vh] pt-32">
        <div class="absolute inset-0 bg-gradient-to-r from-black via-black/90 to-black/60"></div>
        
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 flex flex-col md:flex-row items-center gap-12 h-full justify-center mt-10">
            <div class="md:w-1/2 text-center md:text-left mt-10 md:mt-0">
                <h1 class="text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight">
                    THE NEXT GEN <br>
                    <span class="gold-gradient-text">STORYTELLING</span>
                </h1>
                <p class="text-gray-400 text-lg mb-8 max-w-lg mx-auto md:mx-0">
                    Welcome to the <strong>NEXGN International Short Film Festival</strong>. 
                    Celebrating cinema, innovation, and the voices of tomorrow. 
                </p>
                <button onclick="showLogin()" class="bg-[#d4af37] text-black px-8 py-4 rounded-lg font-bold text-lg hover:bg-white transition shadow-[0_0_20px_rgba(212,175,55,0.4)]">
                    Access Script Writer Pro
                </button>
            </div>

            <div class="md:w-1/2 w-full max-w-sm">
                <div class="bg-black/80 backdrop-blur-md border border-[#d4af37] rounded-2xl p-8 shadow-[0_0_40px_rgba(212,175,55,0.15)]">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl font-bold text-[#d4af37] flex items-center justify-center gap-2">
                            CREATOR PORTAL <span class="reel-icon">üéûÔ∏è</span>
                        </h2>
                        <p class="text-gray-500 text-xs mt-1">NISFF SCRIPT WRITER PRO v26.0</p>
                    </div>
                    <div class="space-y-4">
                        <input type="text" id="loginUser" class="w-full bg-[#111] border border-gray-700 rounded-lg p-3 text-white focus:border-[#d4af37] focus:outline-none" placeholder="Username">
                        <input type="password" id="loginPass" class="w-full bg-[#111] border border-gray-700 rounded-lg p-3 text-white focus:border-[#d4af37] focus:outline-none" placeholder="Password">
                        <button onclick="handleLogin()" class="w-full bg-[#d4af37] hover:bg-white text-black font-bold py-3 rounded-lg transition duration-300">LOGIN</button>
                        <div id="loginError" class="text-red-500 text-center text-sm font-bold h-5"></div>
                    </div>
                    <div class="text-center mt-6">
                        <span ondblclick="toggleAdminPanel()" class="text-gray-800 text-xs cursor-default select-none">Admin Access</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-black py-20 border-t border-gray-900">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-center text-3xl font-bold text-[#d4af37] mb-12">FESTIVAL HIGHLIGHTS</h2>
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <div class="p-6 border border-gray-800 rounded-xl hover:border-[#d4af37] transition group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition">üèÜ</div>
                    <h3 class="text-xl font-bold text-white mb-2">Prestigious Awards</h3>
                    <p class="text-gray-500 text-sm">Best Short, Best Director, Best Screenplay, and Audience Choice Awards.</p>
                </div>
                <div class="p-6 border border-gray-800 rounded-xl hover:border-[#d4af37] transition group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition">üåç</div>
                    <h3 class="text-xl font-bold text-white mb-2">Global Exposure</h3>
                    <p class="text-gray-500 text-sm">Showcasing films from over 50 countries with international jury members.</p>
                </div>
                <div class="p-6 border border-gray-800 rounded-xl hover:border-[#d4af37] transition group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition">üé•</div>
                    <h3 class="text-xl font-bold text-white mb-2">Networking</h3>
                    <p class="text-gray-500 text-sm">Connect with producers, distributors, and fellow creators.</p>
                </div>
                <div class="p-6 border border-gray-800 rounded-xl hover:border-[#d4af37] transition group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition">üéì</div>
                    <h3 class="text-xl font-bold text-white mb-2">Workshops</h3>
                    <p class="text-gray-500 text-sm">Learn from industry masters in scriptwriting and direction.</p>
                </div>
                <div class="p-6 border border-gray-800 rounded-xl hover:border-[#d4af37] transition group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition">üé¨</div>
                    <h3 class="text-xl font-bold text-white mb-2">Live Screenings</h3>
                    <p class="text-gray-500 text-sm">Experience cinema on the big screen with live audiences.</p>
                </div>
                <div class="p-6 border border-gray-800 rounded-xl hover:border-[#d4af37] transition group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition">üì∞</div>
                    <h3 class="text-xl font-bold text-white mb-2">Media Coverage</h3>
                    <p class="text-gray-500 text-sm">Get featured in top film magazines and press releases.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-[#050505] py-20 border-t border-gray-900">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold text-white mb-6">ABOUT <span class="text-[#d4af37]">NISFF</span></h2>
            <p class="text-gray-400 text-lg leading-relaxed mb-6">
                The NEXGN International Short Film Festival is dedicated to discovering and nurturing the next generation of filmmakers. We believe that short films are a unique art form that deserves a global stage.
            </p>
            <p class="text-gray-400 text-lg leading-relaxed">
                Since our inception, we have screened over 2,000 films and awarded over $50,000 in prizes and production grants. Our mission is to bridge the gap between independent creators and the mainstream industry.
            </p>
        </div>
    </div>

    <div class="bg-black py-20 border-t border-gray-900">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-center text-3xl font-bold text-[#d4af37] mb-12">WHAT FILMMAKERS SAY</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-[#111] p-6 rounded-lg border border-gray-800"><p class="text-gray-300 italic">"An incredible experience. The networking opportunities were unmatched."</p><p class="text-[#d4af37] mt-4 font-bold">- Sarah J., Director</p></div>
                <div class="bg-[#111] p-6 rounded-lg border border-gray-800"><p class="text-gray-300 italic">"The Script Writer Pro tool helped me finalize my screenplay in days!"</p><p class="text-[#d4af37] mt-4 font-bold">- Rahul V., Writer</p></div>
                <div class="bg-[#111] p-6 rounded-lg border border-gray-800"><p class="text-gray-300 italic">"Very well organized and professional. Can't wait for next year."</p><p class="text-[#d4af37] mt-4 font-bold">- David L., Producer</p></div>
                <div class="bg-[#111] p-6 rounded-lg border border-gray-800"><p class="text-gray-300 italic">"Winning Best Short at NISFF opened so many doors for me."</p><p class="text-[#d4af37] mt-4 font-bold">- Anjali M., Filmmaker</p></div>
                <div class="bg-[#111] p-6 rounded-lg border border-gray-800"><p class="text-gray-300 italic">"A festival that truly cares about independent cinema."</p><p class="text-[#d4af37] mt-4 font-bold">- Carlos R., Editor</p></div>
                <div class="bg-[#111] p-6 rounded-lg border border-gray-800"><p class="text-gray-300 italic">"The workshops provided practical knowledge I use every day."</p><p class="text-[#d4af37] mt-4 font-bold">- Emily W., Student</p></div>
            </div>
            <div class="text-center mt-10">
                <a href="https://nisff.co.in/testimonials.html" class="inline-block border border-gray-600 text-gray-300 px-6 py-2 rounded hover:border-[#d4af37] hover:text-[#d4af37] transition">View All Testimonials</a>
            </div>
        </div>
    </div>
    
    <footer class="bg-black border-t-2 border-[#d4af37]/30 pt-16 pb-8 text-gray-400">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-3 gap-12">
            <div>
                <h3 class="text-3xl font-extrabold text-[#d4af37] tracking-widest mb-4">NISFF</h3>
                <p class="text-sm mb-6">Empowering global storytellers through innovation and opportunity. Join the revolution of short film cinema.</p>
                <div class="flex space-x-4">
                    <a href="#" class="text-white hover:text-[#d4af37] text-xl transition"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-white hover:text-[#d4af37] text-xl transition"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-white hover:text-[#d4af37] text-xl transition"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-white hover:text-[#d4af37] text-xl transition"><i class="fab fa-youtube"></i></a>
                </div>
            </div>

            <div>
                <h4 class="text-white font-bold uppercase tracking-wider mb-6 border-b border-gray-800 pb-2">Navigate</h4>
                <ul class="space-y-3 text-sm">
                    <li><a href="https://nisff.co.in" class="hover:text-[#d4af37] transition">HOME</a></li>
                    <li><a href="https://nisff.co.in/gala.html" class="hover:text-[#d4af37] transition">GALA INFO</a></li>
                    <li><a href="https://nisff.co.in/awards.html" class="hover:text-[#d4af37] transition">AWARDS</a></li>
                    <li><a href="https://nisff.co.in/gallery.html" class="hover:text-[#d4af37] transition">GALLERY</a></li>
                    <li><a href="https://nisff.co.in/testimonials.html" class="hover:text-[#d4af37] transition">TESTIMONIALS</a></li>
                    <li><a href="https://nisff.co.in/winners.html" class="hover:text-[#d4af37] transition">WINNERS LIST</a></li>
                    <li><a href="https://nisff.co.in/rules.html" class="hover:text-[#d4af37] transition">RULES</a></li>
                    <li><a href="https://nisff.co.in/submit.html" class="hover:text-[#d4af37] transition font-bold text-[#d4af37]">SUBMIT FILM</a></li>
                </ul>
            </div>

            <div>
                <h4 class="text-white font-bold uppercase tracking-wider mb-6 border-b border-gray-800 pb-2">Customer Care</h4>
                <ul class="space-y-3 text-sm">
                    <li><a href="https://nisff.co.in/privacy.html" class="hover:text-[#d4af37] transition">Privacy Policy</a></li>
                    <li><a href="https://nisff.co.in/rnc_policy.html" class="hover:text-[#d4af37] transition">Refund & Cancellation</a></li>
                    <li><a href="https://nisff.co.in/tnc.html" class="hover:text-[#d4af37] transition">Terms & Conditions</a></li>
                    <li><a href="https://nisff.co.in/disclaimer.html" class="hover:text-[#d4af37] transition">Disclaimer</a></li>
                    <li><a href="https://nisff.co.in/faq.html" class="hover:text-[#d4af37] transition">FAQ</a></li>
                    <li><a href="https://nisff.co.in/contact.html" class="hover:text-[#d4af37] transition">Contact Us</a></li>
                </ul>
            </div>
        </div>
        <div class="text-center mt-12 pt-8 border-t border-gray-900 text-xs">
            <p>&copy; 2024 NEXGN International Short Film Festival. All rights reserved.</p>
        </div>
    </footer>
</div>

<div id="login-wrapper" class="hidden">
    <div class="close-login" style="position:absolute; top:20px; right:30px; color:#fff; font-size:30px; cursor:pointer;" onclick="hideLogin()">&times;</div>
    <div class="login-box">
        <h2 style="color:var(--primary); margin-bottom:20px; font-size:20px; display:flex; justify-content:center; align-items:center;">
            NEXGN SCRIPT WRITER PRO v26.0 <span class="reel-icon">üéûÔ∏è</span>
        </h2>
        <input type="text" id="loginUser" class="login-input" placeholder="Username">
        <input type="password" id="loginPass" class="login-input" placeholder="Password">
        <button class="login-btn" onclick="handleLogin()">LOGIN</button>
        <div id="loginError" style="color:var(--error); margin-top:10px; font-size:12px;"></div>
    </div>
</div>

<div id="app-main" class="hidden">
    <div class="app-header">
        <div class="flex items-center gap-4">
            <div class="app-title" style="color:#d4af37; font-weight:bold; font-size:24px;">
                NEXGN Script Writer Pro <span class="reel-icon">üéûÔ∏è</span>
            </div>
            <div class="testimonial-box">
                <div id="testimonialText" class="testimonial-text">"NEXGN Script Writer changed my filmmaking career!" - Rohan K.</div>
            </div>
        </div>
        
        <div class="user-controls">
            <span id="welcomeUser" style="color:#666; font-size:12px;"></span>
            <img id="userAvatarDisplay" src="https://api.dicebear.com/7.x/avataaars/svg?seed=User" class="user-avatar" onclick="toggleProfileMenu()">
            
            <div id="profile-menu">
                <h4>SETTINGS</h4>
                <div class="key-section">
                    <label style="color:#888; font-size:10px;">Insert Key Here</label>
                    <input type="password" id="apiKey" class="key-input" onchange="saveKey()">
                </div>
                <button onclick="openPhotoModal()">üì∑ Update Photo</button>
                <button onclick="openPassModal()">üîë Change Password</button>
                <button onclick="logout()" style="color:var(--error)">üö™ Logout</button>
            </div>
        </div>
    </div>

    <div class="app-body">
        <div class="nav-tabs">
            <button class="tab-btn active" onclick="openTab('film')">üé¨ Short Film Scripter</button>
            <button class="tab-btn" id="btn-cinematography" onclick="openTab('cinematography')">üé• Cinematography</button>
            <button class="tab-btn" id="btn-dialogue" onclick="openTab('dialogue')">üó£Ô∏è Dialogue Writer</button>
            <button class="tab-btn" onclick="openTab('improve')">‚ú® Script Improvement</button>
            <button class="tab-btn" onclick="openTab('youtube')">üìπ YouTube Scripter</button>
        </div>

        <datalist id="languageOptions">
            <option value="English">English</option><option value="Hinglish">Hinglish</option><option value="Hindi">Hindi (‡§π‡§ø‡§®‡•ç‡§¶‡•Ä)</option>
            <option value="Marathi">Marathi (‡§Æ‡§∞‡§æ‡§†‡•Ä)</option><option value="Bengali">Bengali (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)</option><option value="Tamil">Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç)</option>
            <option value="Telugu">Telugu (‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å)</option><option value="Gujarati">Gujarati (‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä)</option><option value="Urdu">Urdu (ÿßÿ±ÿØŸà)</option>
            <option value="Kannada">Kannada (‡≤ï‡≤®‡≥ç‡≤®‡≤°)</option><option value="Odia">Odia (‡¨ì‡¨°‡¨º‡¨ø‡¨Ü)</option><option value="Malayalam">Malayalam (‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç)</option>
            <option value="Punjabi">Punjabi (‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä)</option><option value="Assamese">Assamese (‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ)</option><option value="Maithili">Maithili (‡§Æ‡•à‡§•‡§ø‡§≤‡•Ä)</option>
            <option value="Santali">Santali (‡§∏‡§Ç‡§•‡§æ‡§≤‡•Ä)</option><option value="Kashmiri">Kashmiri (‡§ï‡§∂‡•ç‡§Æ‡•Ä‡§∞‡•Ä)</option><option value="Nepali">Nepali (‡§®‡•á‡§™‡§æ‡§≤‡•Ä)</option>
            <option value="Konkani">Konkani (‡§ï‡•ã‡§Ç‡§ï‡§£‡•Ä)</option><option value="Sindhi">Sindhi (‡§∏‡§ø‡§Ç‡§ß‡•Ä)</option><option value="Dogri">Dogri (‡§°‡•ã‡§ó‡§∞‡•Ä)</option>
            <option value="Manipuri">Manipuri (‡¶Æ‡¶£‡¶ø‡¶™‡ßÅ‡¶∞‡ßÄ)</option><option value="Bodo">Bodo (‡§¨‡§∞')</option><option value="Sanskrit">Sanskrit (‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§)</option>
        </datalist>

        <div id="film" class="tab-content active">
            <div class="input-grid">
                <div class="full-width"><span class="app-label">Idea</span><textarea id="filmIdea" class="app-input" rows="2"></textarea></div>
                <div><span class="app-label">Genre</span><select id="filmGenre" class="app-input"><option>Drama</option><option>Thriller</option><option>Comedy</option><option>Horror</option><option>Sci-Fi</option><option>Romance</option></select></div>
                <div><span class="app-label">Duration</span><select id="filmDuration" class="app-input"><option>10 Mins</option><option>15 Mins</option><option>20 Mins</option><option>30 Mins</option></select></div>
                <div><span class="app-label">Language</span><input list="languageOptions" id="filmLanguage" class="app-input" placeholder="Select"></div>
            </div>
            <button class="gen-btn" onclick="generateFilm()">GENERATE SCRIPT + AUTO CINEMATOGRAPHY</button>
            <div id="filmLoader" class="loader">WRITING...</div>
            <div class="toolbar">
                <select id="hist-film" class="history-select" onchange="restoreHistory('film')"><option value="">Recent Scripts</option></select>
                <button class="del-btn" onclick="deleteHistoryItem('film')">X</button>
                <button class="sm-btn" onclick="clearArea('filmOutput', 'filmIdea')">Clear</button>
                <button class="sm-btn" onclick="printArea('filmOutput')">Print</button>
                <button class="sm-btn" onclick="copyText('filmOutput')">Copy</button>
            </div>
            <div id="filmOutput" class="output-box"></div>
        </div>

        <div id="cinematography" class="tab-content">
            <div class="input-grid">
                <div class="full-width"><span class="app-label">Context</span><textarea id="cineContext" class="app-input" rows="3"></textarea></div>
                <div><span class="app-label">Language</span><input list="languageOptions" id="cineLanguage" class="app-input"></div>
            </div>
            <button class="gen-btn" onclick="generateCinematography()">GENERATE SHOTS</button>
            <div id="cineLoader" class="loader">PLANNING...</div>
            <div class="toolbar">
                <select id="hist-cine" class="history-select" onchange="restoreHistory('cine')"><option>Recent</option></select>
                <button class="del-btn" onclick="deleteHistoryItem('cine')">X</button>
                <button class="sm-btn" onclick="printArea('cineOutput')">Print</button>
            </div>
            <div id="cineOutput" class="output-box"></div>
        </div>

        <div id="dialogue" class="tab-content">
            <div class="input-grid">
                <div class="full-width"><span class="app-label">Context</span><textarea id="diaContext" class="app-input" rows="3"></textarea></div>
                <div><span class="app-label">Language</span><input list="languageOptions" id="diaLanguage" class="app-input"></div>
            </div>
            <button class="gen-btn" onclick="generateDialogue()">GENERATE DIALOGUE</button>
            <div id="diaLoader" class="loader">WRITING...</div>
            <div class="toolbar">
                <select id="hist-dia" class="history-select" onchange="restoreHistory('dia')"><option>Recent</option></select>
                <button class="del-btn" onclick="deleteHistoryItem('dia')">X</button>
                <button class="sm-btn" onclick="printArea('diaOutput')">Print</button>
            </div>
            <div id="diaOutput" class="output-box"></div>
        </div>

        <div id="improve" class="tab-content">
            <div class="input-grid">
                <div class="full-width"><span class="app-label">Script</span><textarea id="improveInput" class="app-input" rows="5"></textarea></div>
                <div><span class="app-label">Goal</span><select id="improveType" class="app-input"><option>Fix Grammar</option><option>Format</option><option>Enhance</option></select></div>
                <div><span class="app-label">Target Lang</span><input list="languageOptions" id="improveLang" class="app-input"></div>
            </div>
            <button class="gen-btn" onclick="improveScript()">IMPROVE & TRANSLATE</button>
            <div id="improveLoader" class="loader">POLISHING...</div>
            <div class="toolbar">
                <select id="hist-imp" class="history-select" onchange="restoreHistory('imp')"><option>Recent</option></select>
                <button class="del-btn" onclick="deleteHistoryItem('imp')">X</button>
                <button class="sm-btn" onclick="printArea('improveOutput')">Print</button>
            </div>
            <div id="improveOutput" class="output-box"></div>
        </div>

        <div id="youtube" class="tab-content">
            <div class="input-grid">
                <div class="full-width"><span class="app-label">Title</span><input type="text" id="ytTopic" class="app-input"></div>
                <div><span class="app-label">Duration</span><select id="ytDuration" class="app-input"><option>10 Mins</option><option>15 Mins</option><option>20 Mins</option><option>30 Mins</option></select></div>
                <div><span class="app-label">Category</span><select id="ytCategory" class="app-input"><option>Tech</option><option>Vlog</option><option>Docu</option><option>Comedy</option><option>Review</option><option>Gaming</option><option>History</option><option>True Crime</option></select></div>
                <div><span class="app-label">Language</span><input list="languageOptions" id="ytLanguage" class="app-input"></div>
            </div>
            <button class="gen-btn" onclick="generateYouTube()">GENERATE SCRIPT</button>
            <div id="ytLoader" class="loader">WRITING...</div>
            <div class="toolbar">
                <select id="hist-yt" class="history-select" onchange="restoreHistory('yt')"><option>Recent</option></select>
                <button class="del-btn" onclick="deleteHistoryItem('yt')">X</button>
                <button class="sm-btn" onclick="printArea('ytOutput')">Print</button>
            </div>
            <div id="ytOutput" class="output-box"></div>
        </div>
    </div>
</div>

<div id="admin-panel" class="modal"><div class="modal-box"><h3>Admin Panel</h3><input id="newUser" class="app-input" placeholder="User"><input id="newPass" class="app-input" style="margin-top:10px" placeholder="Pass"><button class="gen-btn" onclick="createUser()">Create User</button><button class="gen-btn" style="background:#333; margin-top:5px" onclick="toggleAdminPanel()">Close</button></div></div>
<div id="passModal" class="modal"><div class="modal-box"><h3>New Password</h3><input id="newPassInput" class="app-input" type="password"><button class="gen-btn" onclick="saveNewPassword()">Save</button><button class="gen-btn" style="background:#333" onclick="closeModals()">Cancel</button></div></div>
<div id="photoModal" class="modal"><div class="modal-box"><h3>Upload Photo</h3><input id="photoInput" type="file" class="app-input"><button class="gen-btn" onclick="savePhoto()">Upload</button><button class="gen-btn" style="background:#333" onclick="closeModals()">Cancel</button></div></div>

<script>
    // --- CONFIG & DATA ---
    const AUTH = { u: "bmV4Z25sYWJz", p: "SU1sZWdlbmQyNTVA" }; // Admin Base64
    const LIMITS = { film: 3, cine: 3, dia: 10, imp: 5, yt: 3 };
    let currentUser = null;
    
    // 50+ Testimonials
    const testimonials = [
        "Best AI script tool! - Rohan", "Amazing shots. - Amit", "Love the languages. - Priya", "Great for reels. - TechGuru", "So fast! - DirectorX",
        "Assamese script support is rare! - Manash", "Best investment for creators. - CreatorHub", "Simple and powerful. - Minimalist", "Great for students. - FilmSchool",
        "The horror scripts are scary! - Ghost", "Comedy timing is good. - FunnyBone", "Documentary outlines are solid. - DocuMaker", "Very fast generation. - Speed",
        "Secure and private. - PrivacyFirst", "Customer support is great. - HelpDesk", "Love the dark mode. - DarkTheme", "Works on mobile perfectly. - MobileUser",
        "Marathi dialects are accurate. - Vijay", "Shot lists are detailed. - DOP", "Budget friendly. - IndieFilm", "Script improvement works wonders. - Editor",
        "Translation is accurate. - Global", "Hinglish support is key. - WebSeries", "Action scenes are vivid. - Stunt", "Romance scripts are sweet. - Love"
    ];

    window.onload = () => {
        if(localStorage.getItem('nisff_current_user')) { currentUser = localStorage.getItem('nisff_current_user'); showApp(); }
        if(localStorage.getItem('nisff_key')) document.getElementById('apiKey').value = localStorage.getItem('nisff_key');
        
        // Defaults
        document.getElementById('filmLanguage').value = "English";
        document.getElementById('improveLang').value = "English";
        
        startTestimonials();
        
        // Init Admin
        let users = JSON.parse(localStorage.getItem('nisff_users') || '[]');
        if(users.length === 0) { users.push({u: atob(AUTH.u), p: atob(AUTH.p), role:'admin'}); localStorage.setItem('nisff_users', JSON.stringify(users)); }
    };

    function startTestimonials() {
        let i = 0; setInterval(() => {
            document.getElementById('testimonialText').innerText = testimonials[i];
            i = (i + 1) % testimonials.length;
        }, 10000);
    }

    // --- AUTH ---
    function showLogin() { 
        document.getElementById('landing-page').style.display = 'none';
        document.getElementById('login-wrapper').classList.remove('hidden'); 
        document.getElementById('login-wrapper').style.display = 'flex'; // Explicit show
        document.querySelector('body').classList.add('app-active');
        window.scrollTo({top:0, behavior:'smooth'});
    }

    function hideLogin() {
        document.getElementById('login-wrapper').classList.add('hidden');
        document.getElementById('landing-page').style.display = 'block';
        document.querySelector('body').classList.remove('app-active');
    }

    function handleLogin() {
        const u = document.getElementById('loginUser').value;
        const p = document.getElementById('loginPass').value;
        const users = JSON.parse(localStorage.getItem('nisff_users') || '[]');
        if(users.find(user => user.u === u && user.p === p)) {
            currentUser = u; localStorage.setItem('nisff_current_user', u); showApp();
        } else { document.getElementById('loginError').innerText = "Invalid Credentials"; }
    }

    function showApp() {
        document.getElementById('landing-page').style.display = 'none';
        document.getElementById('login-wrapper').classList.add('hidden');
        document.getElementById('app-main').classList.remove('hidden');
        document.querySelector('body').classList.add('app-active');
        document.getElementById('welcomeUser').innerText = `User: ${currentUser}`;
        
        const data = JSON.parse(localStorage.getItem(`nisff_data_${currentUser}`) || '{}');
        if(data.photo) document.getElementById('userAvatarDisplay').src = data.photo;
        if(data.apiKey) document.getElementById('apiKey').value = data.apiKey;
        
        ['film','cine','dia','imp','yt'].forEach(cat => { updateHistoryUI(cat); });
    }

    function logout() { localStorage.removeItem('nisff_current_user'); location.reload(); }

    // --- ADMIN ---
    function toggleAdminPanel() {
        const p = document.getElementById('admin-panel');
        if(p.style.display==='flex') { p.style.display='none'; return; }
        const u = prompt("Admin User:"); const pass = prompt("Admin Pass:");
        if(u===atob(AUTH.u) && pass===atob(AUTH.p)) p.style.display='flex'; else alert("Denied");
    }
    function createUser() {
        const u = document.getElementById('newUser').value; const p = document.getElementById('newPass').value;
        if(!u || !p) return;
        const users = JSON.parse(localStorage.getItem('nisff_users') || '[]');
        users.push({u, p, role:'user'}); localStorage.setItem('nisff_users', JSON.stringify(users)); alert("Created");
    }

    // --- UI ---
    function openTab(id) {
        document.querySelectorAll('.tab-content').forEach(e => e.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(e => e.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(btn => {
            if(btn.onclick.toString().includes(id)) {
                btn.classList.add('active');
                btn.classList.remove('has-data');
            }
        });
    }
    function toggleProfileMenu() { const m = document.getElementById('profile-menu'); m.style.display = m.style.display === 'block' ? 'none' : 'block'; }
    function saveKey() { localStorage.setItem('nisff_key', document.getElementById('apiKey').value); }
    function openPassModal() { document.getElementById('passModal').style.display='flex'; toggleProfileMenu(); }
    function openPhotoModal() { document.getElementById('photoModal').style.display='flex'; toggleProfileMenu(); }
    function closeModals() { document.querySelectorAll('.modal').forEach(m => m.style.display='none'); }
    
    function saveNewPassword() {
        const np = document.getElementById('newPassInput').value;
        let users = JSON.parse(localStorage.getItem('nisff_users'));
        users.find(u => u.u === currentUser).p = np;
        localStorage.setItem('nisff_users', JSON.stringify(users)); alert("Saved"); closeModals();
    }
    function savePhoto() {
        const file = document.getElementById('photoInput').files[0];
        const r = new FileReader();
        r.onload = function() {
            let d = JSON.parse(localStorage.getItem(`nisff_data_${currentUser}`) || '{}');
            d.photo = r.result; localStorage.setItem(`nisff_data_${currentUser}`, JSON.stringify(d));
            document.getElementById('userAvatarDisplay').src = r.result; alert("Saved"); closeModals();
        }; r.readAsDataURL(file);
    }

    // --- GENERATION ---
    function strip(html) { return html.replace(/<[^>]*>?/gm, ''); }
    async function callGemini(prompt) {
        const k = document.getElementById('apiKey').value; if(!k) { alert("Enter Key"); return null; }
        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${k}`; // Using 1.5 for stability
        try {
            const res = await fetch(url, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }) });
            const data = await res.json();
            return strip(data.candidates[0].content.parts[0].text.replace(/\*\*/g, ""));
        } catch(e) { alert("Error"); return null; }
    }

    // --- USAGE ---
    function checkLimit(type) {
        const key = `nisff_usage_${currentUser}_${new Date().toISOString().split('T')[0]}`;
        const u = JSON.parse(localStorage.getItem(key) || '{}');
        if((u[type] || 0) >= LIMITS[type]) { alert("Daily Limit Reached"); return false; }
        u[type] = (u[type] || 0) + 1; localStorage.setItem(key, JSON.stringify(u)); return true;
    }

    // --- HISTORY ---
    function addHist(cat, txt) {
        const key = `nisff_hist_${currentUser}_${cat}`;
        let h = JSON.parse(localStorage.getItem(key) || '[]');
        h.unshift({ t: new Date().toLocaleTimeString(), c: txt });
        if(h.length > 10) h.pop();
        localStorage.setItem(key, JSON.stringify(h)); updateHistoryUI(cat);
    }
    function updateHistoryUI(cat) {
        const s = document.getElementById(`hist-${cat}`);
        s.innerHTML = '<option value="">Recent</option>';
        const h = JSON.parse(localStorage.getItem(`nisff_hist_${currentUser}_${cat}`) || '[]');
        h.forEach((x, i) => { const o = document.createElement('option'); o.value=i; o.text=x.t; s.appendChild(o); });
    }
    function restoreHistory(cat) {
        const idx = document.getElementById(`hist-${cat}`).value; if(idx==="") return;
        const h = JSON.parse(localStorage.getItem(`nisff_hist_${currentUser}_${cat}`));
        const map = {'film':'filmOutput','cine':'cineOutput','dia':'diaOutput','imp':'improveOutput','yt':'ytOutput'};
        document.getElementById(map[cat]).innerText = h[idx].c;
    }
    function deleteHistoryItem(cat) {
        if(!confirm("Delete?")) return;
        const key = `nisff_hist_${currentUser}_${cat}`;
        let h = JSON.parse(localStorage.getItem(key)); h.shift();
        localStorage.setItem(key, JSON.stringify(h)); updateHistoryUI(cat);
    }
    
    // --- FUNCTIONS ---
    function copyText(id) { navigator.clipboard.writeText(document.getElementById(id).innerText); alert("Copied"); }
    function clearArea(o, i) { document.getElementById(o).innerText=""; if(i) document.getElementById(i).value=""; }
    function printArea(id) {
        const c = document.getElementById(id).innerText;
        const w = window.open('','','height=600,width=800');
        w.document.write(`<pre style="white-space:pre-wrap; font-family:monospace">${c}</pre>`); w.print();
    }

    // --- PROMPTS ---
    function getLangInstr(l) { return `STRICT LANGUAGE: Write entire output in **${l}** using Native Script. NO English unless specified.`; }

    async function generateFilm() {
        if(!checkLimit('film')) return;
        const idea = document.getElementById('filmIdea').value;
        const lang = document.getElementById('filmLanguage').value;
        if(!idea) return alert("Enter Idea");
        document.getElementById('filmLoader').style.display='block';
        
        const p = `Write Short Film Script. Title: ${idea}. Genre: ${document.getElementById('filmGenre').value}. Duration: ${document.getElementById('filmDuration').value}. ${getLangInstr(lang)} Format: Standard Screenplay.`;
        const res = await callGemini(p);
        document.getElementById('filmLoader').style.display='none';
        
        if(res) {
            document.getElementById('filmOutput').innerText = res; addHist('film', res);
            document.getElementById('cineContext').value = `Script: ${idea}`; document.getElementById('cineLanguage').value = lang;
            autoGenCine(idea, lang);
        }
    }

    async function autoGenCine(idea, lang) {
        const res = await callGemini(`Shot list for film "${idea}". ${getLangInstr(lang)}`);
        if(res) { document.getElementById('cineOutput').innerText = res; addHist('cine', res); document.getElementById('btn-cinematography').classList.add('has-data'); }
    }

    async function generateCinematography() {
        if(!checkLimit('cine')) return;
        const ctx = document.getElementById('cineContext').value; const lang = document.getElementById('cineLanguage').value;
        document.getElementById('cineLoader').style.display='block';
        const res = await callGemini(`Shot list for: ${ctx}. ${getLangInstr(lang)}`);
        document.getElementById('cineLoader').style.display='none';
        if(res) { document.getElementById('cineOutput').innerText = res; addHist('cine', res); }
    }

    async function generateDialogue() {
        if(!checkLimit('dia')) return;
        const ctx = document.getElementById('diaContext').value; const lang = document.getElementById('diaLanguage').value;
        document.getElementById('diaLoader').style.display='block';
        const res = await callGemini(`Write dialogue for: ${ctx}. ${getLangInstr(lang)}`);
        document.getElementById('diaLoader').style.display='none';
        if(res) { document.getElementById('diaOutput').innerText = res; addHist('dia', res); }
    }

    async function improveScript() {
        if(!checkLimit('imp')) return;
        const inp = document.getElementById('improveInput').value; const lang = document.getElementById('improveLang').value;
        document.getElementById('improveLoader').style.display='block';
        const res = await callGemini(`Improve script: ${document.getElementById('improveType').value}. Rewrite in ${lang}. \n${inp}`);
        document.getElementById('improveLoader').style.display='none';
        if(res) { document.getElementById('improveOutput').innerText = res; addHist('imp', res); }
    }

    async function generateYouTube() {
        if(!checkLimit('yt')) return;
        const t = document.getElementById('ytTopic').value; const lang = document.getElementById('ytLanguage').value;
        document.getElementById('ytLoader').style.display='block';
        const res = await callGemini(`YouTube Script: ${t}. ${getLangInstr(lang)}`);
        document.getElementById('ytLoader').style.display='none';
        if(res) { document.getElementById('ytOutput').innerText = res; addHist('yt', res); }
    }
</script>
</body>
</html>
